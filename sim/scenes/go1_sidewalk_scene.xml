<mujoco model="scene5_real_sidewalk">
  <compiler angle="degree"/>
  <option timestep="0.002" gravity="0 0 -9.81"/>
  <include file="unitree_go1/go1.xml"/>

  <asset>
    <texture name="sky" type="skybox" builtin="gradient"
             rgb1="0.45 0.55 0.75" rgb2="0.08 0.10 0.18" width="512" height="512"/>
    <texture name="tex_floor" type="2d" builtin="checker"
             width="512" height="512" rgb1="0.2 0.3 0.4" rgb2="0.1 0.15 0.2"
             mark="cross" markrgb="0.8 0.8 0.8"/>
    <material name="mat_floor" texture="tex_floor" reflectance="0.2"/>
  </asset>

  <worldbody>
    <light name="sun" pos="0 0 5" dir="0 0 -1" directional="true"
           diffuse="1 1 1" specular="0.1 0.1 0.1"/>

    <!-- Floor: 12m long, 4m wide sidewalk -->
    <geom name="floor" type="plane" size="8 1.5 0.1" material="mat_floor"/>

    <!-- Sidewalk curbs (left and right) -->
    <geom name="curb_left"  type="box" pos="0  1.5 0.5" size="6 0.05 0.5" rgba="0.3 0.3 0.3 1"/>
    <geom name="curb_right" type="box" pos="0 -1.5 0.5" size="6 0.05 0.5" rgba="0.3 0.3 0.3 1"/>

    <!-- Oncoming pedestrian (Against Traffic): moves leftward (-X) -->
    <body name="person1" pos="4 0.3 0">
      <joint name="person1_slide" type="slide" axis="1 0 0" limited="true" range="-6 6"/>
      <geom type="capsule" size="0.25" fromto="0 0 0 0 0 1.7" rgba="1 0.6 0.6 1"/>
    </body>

    <!-- Same-direction pedestrian (With Traffic): moves rightward (+X) -->
    <body name="person2" pos="1 -0.6 0">
      <joint name="person2_slide" type="slide" axis="1 0 0" limited="true" range="-6 6"/>
      <geom type="capsule" size="0.25" fromto="0 0 0 0 0 1.7" rgba="0.6 0.8 1 1"/>
    </body>

    <!-- Optional: static obstacle on right (to encourage right-side bias) -->
    <body name="lamp_post" pos="3 -1.2 0" quat="1 0 0 0">
      <geom type="cylinder" size="0.15 0.8" rgba="0.4 0.4 0.4 1"/>
    </body>
  </worldbody>
</mujoco>